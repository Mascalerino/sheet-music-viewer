<div class="container mx-auto p-4">
  <h1 class="text-2xl font-bold mb-4 text-center">Lista de Partituras</h1>

  <div class="flex justify-center mb-4">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="filterPdfs()"
      placeholder="Buscar partituras..."
      class="p-2 border border-gray-300 rounded w-1/2"
    />
  </div>

  <ul class="list-disc list-inside">
    <li *ngFor="let pdf of filteredPdfs" class="flex items-center mb-2">
      <a
        href="#"
        (click)="selectPdf(pdf)"
        class="text-blue-500 hover:underline mr-4"
      >
        {{ pdf.name }}
      </a>
    </li>
  </ul>

  <div *ngIf="selectedPdf" class="mt-6">
    <div class="flex justify-between items-center mb-4">
      <h2 class="text-xl font-semibold">Visor de PDF</h2>
      <button
        (click)="closePdfViewer()"
        class="text-white bg-red-500 hover:bg-red-700 font-bold py-2 px-4 rounded"
      >
        Cerrar Visor
      </button>
    </div>

    <!-- Visor PDF sin botón de descarga -->
    <iframe
      [src]="selectedPdf.url | safeUrl"
      width="100%"
      height="600px"
    ></iframe>

    <!-- Botón de descarga personalizado -->
    <div class="mt-4 text-center">
      <a
        [href]="selectedPdf.url"
        [download]="selectedPdf.name + '.pdf'"
        class="text-white bg-blue-500 hover:bg-blue-700 font-bold py-2 px-4 rounded"
      >
        Descargar {{ selectedPdf.name }}
      </a>
    </div>
  </div>
</div>
